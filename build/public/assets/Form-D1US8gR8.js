import{b as B,c as N,j as a}from"./app-nMpo0nzv.js";import{U as u}from"./UniversalInput-DhhCC8MJ.js";import{S as v}from"./SuperAdminLayouts--tQhjaE8.js";import"./index-BzCDgUCn.js";import"./TextEditor-BFB8hSX5.js";/* empty css                  */import"./Breadcrump-BN6wmIl1.js";function P({initialValues:s,onSubmit:x,submitLabel:I,dark:i=!1,guruOption:o,siswaOption:h,mapelOptions:c=[],kelasSelected:k,setKelasSelected:f}){const j={jenjang:"",namaKelas:"",waliKelas:"",siswa:[],guruPengampu:[],guruMapelMapping:{}},{data:l,setData:m,processing:b,errors:y}=B({...j,...s});N.useEffect(()=>{f(l.jenjang)},[l]);const[n,g]=N.useState((s==null?void 0:s.guruMapelMapping)||{});N.useEffect(()=>{s!=null&&s.guruMapelMapping&&(g(s.guruMapelMapping),m("guruMapelMapping",s.guruMapelMapping))},[s==null?void 0:s.guruMapelMapping]),N.useEffect(()=>{m("guruMapelMapping",n)},[n]);const K=e=>{const r={...n};Object.keys(r).forEach(t=>{e.includes(t)||delete r[t]}),e.forEach(t=>{r[t]||(r[t]=[])}),g(r),m("guruPengampu",e)},S=(e,r)=>{const t={...n,[e]:r};g(t)},D=e=>{e.preventDefault();const r={...l,guruMapelMapping:n};x(r)},M=e=>{var r;return((r=o==null?void 0:o.find(t=>t.value===e))==null?void 0:r.label)||e};return a.jsxDEV("form",{onSubmit:D,className:"space-y-6",children:[a.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxDEV(u,{type:"number",name:"jenjang",label:"Jenjang",value:l.jenjang,onChange:e=>m("jenjang",e),required:!0,dark:i},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:128,columnNumber:9},this),a.jsxDEV(u,{type:"text",name:"namaKelas",uppercase:!0,noSpace:!0,label:"Nama Kelas",value:l.namaKelas,onChange:e=>m("namaKelas",e),required:!0,dark:i},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:138,columnNumber:9},this),a.jsxDEV(u,{type:"select",name:"waliKelas",label:"Wali Kelas",value:l.waliKelas,onChange:e=>m("waliKelas",e),options:o,required:!0,dark:i},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:150,columnNumber:9},this),a.jsxDEV(u,{type:"multiselect",name:"guruPengampu",label:"Guru Pengampu",value:l.guruPengampu,onChange:K,options:o,required:!0,dark:i},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:161,columnNumber:9},this),a.jsxDEV(u,{type:"multiselect",name:"siswa",label:"Siswa",value:l.siswa,onChange:e=>m("siswa",e),options:h,required:!0,dark:i},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:172,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:127,columnNumber:7},this),l.guruPengampu&&l.guruPengampu.length>0&&c.length>0&&a.jsxDEV("div",{className:"border-t pt-6",children:[a.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Mapping Guru - Mata Pelajaran (Opsional)"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:186,columnNumber:11},this),a.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-900 p-3 rounded mb-4",children:a.jsxDEV("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[l.guruPengampu.length," guru dipilih, ",Object.keys(n).length," mapping tersimpan"]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:191,columnNumber:11},this),a.jsxDEV("div",{className:"space-y-4",children:l.guruPengampu.map(e=>{var r;return a.jsxDEV("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[a.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[a.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Mapel untuk: ",a.jsxDEV("span",{className:"font-semibold",children:M(e)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:203,columnNumber:34},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:202,columnNumber:19},this),a.jsxDEV("span",{className:"text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:[((r=n[e])==null?void 0:r.length)||0," mapel"]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:205,columnNumber:19},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:201,columnNumber:17},this),a.jsxDEV(u,{type:"multiselect",name:`guruMapel-${e}`,value:n[e]||[],onChange:t=>S(e,t),options:c,dark:i,placeholder:"Pilih mata pelajaran..."},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:209,columnNumber:17},this),n[e]&&n[e].length>0&&a.jsxDEV("div",{className:"mt-2",children:a.jsxDEV("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Dipilih:"," ",n[e].map(t=>{const p=c.find(d=>(d==null?void 0:d.value)===t);return p==null?void 0:p.label}).join(", ")]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:221,columnNumber:21},this)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:220,columnNumber:19},this)]},e,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:200,columnNumber:15},this)})},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:198,columnNumber:11},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:185,columnNumber:9},this),a.jsxDEV("div",{className:"flex justify-end space-x-4",children:[a.jsxDEV("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-3 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Batal"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:239,columnNumber:9},this),a.jsxDEV("button",{type:"submit",disabled:b,className:"px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:b?"Menyimpan...":I},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:246,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:238,columnNumber:7},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:126,columnNumber:5},this)}P.layout=s=>a.jsxDEV(v,{children:s},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Form.tsx",lineNumber:258,columnNumber:30},void 0);export{P as default};
