import{b as k,c as p,a as A,j as r,r as x}from"./app-nMpo0nzv.js";import{U as o}from"./UniversalInput-DhhCC8MJ.js";import{S as T}from"./StafLayouts-D4HfDRrx.js";import{S as y}from"./SuperAdminLayouts--tQhjaE8.js";import{g as P}from"./whasappSocket-IMd2yq4r.js";import"./index-BzCDgUCn.js";import"./TextEditor-BFB8hSX5.js";/* empty css                  */import"./Breadcrump-BN6wmIl1.js";import"./index-CA1CrNgP.js";function R({initialValues:a,onSubmit:u,submitLabel:g,dark:t=!1,dataKontak:N}){const{data:i,setData:l,post:U,processing:f,errors:E}=k(a||{judul:"",deskripsi:"",roleTujuan:"",publishAt:"",closeAt:""}),[c,S]=p.useState(!1),[I,d]=p.useState([]),b=P(),{notify:j}=A();p.useEffect(()=>(b.on("whatsapp_status",e=>{j(`${e.message}`,"info"),console.log("ðŸŸ¢",e.message)}),()=>{b.off("user_joined")}),[]);const D=[{label:"Siswa",value:"siswa"},{label:"Guru",value:"guru"},{label:"Semua",value:"semua"}],n=N==null?void 0:N.filter(e=>i.roleTujuan!="semua"?e.role.toLowerCase()==i.roleTujuan.toLowerCase():e),B=e=>{if(e.preventDefault(),c){const s={numbers:I,message:`*PENGUMUMAN!!*
${i.judul}

${i.deskripsi}`};x.post("/api/whatsapp/bulk-send",s,{onSuccess:()=>u(i)})}else u(i)},h=(e,s)=>{d(e?m=>[...m,s.noTelephone]:m=>m.filter(v=>v!==s.noTelephone))};return r.jsxDEV("form",{onSubmit:B,className:"space-y-6",children:[r.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxDEV(o,{type:"text",name:"judul",label:"Judul Informasi",value:i.judul,onChange:e=>l("judul",e),required:!0,dark:t},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:100,columnNumber:9},this),r.jsxDEV(o,{type:"textarea",name:"deskripsi",label:"Deskripsi",value:i.deskripsi,onChange:e=>l("deskripsi",e),required:!0,dark:t},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:110,columnNumber:9},this),r.jsxDEV(o,{type:"select",name:"roleTujuan",label:"Role Tujuan",value:i.roleTujuan,onChange:e=>l("roleTujuan",e),options:D,required:!0,dark:t},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:120,columnNumber:9},this),r.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxDEV(o,{type:"datetime-local",name:"publishAt",label:"Publish At",value:i.publishAt,onChange:e=>l("publishAt",e),required:!0,dark:t},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:132,columnNumber:11},this),r.jsxDEV(o,{type:"datetime-local",name:"closeAt",label:"Close At",value:i.closeAt,onChange:e=>l("closeAt",e),required:!0,dark:t},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:131,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:99,columnNumber:7},this),r.jsxDEV("div",{className:"flex justify-end",children:r.jsxDEV("button",{type:"submit",disabled:f,className:"px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:f?"Menyimpan...":g},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:155,columnNumber:9},this)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:154,columnNumber:7},this),r.jsxDEV(o,{type:"checkbox",name:"whatsapp",label:"Kirim Juga Ke Whatsapp",value:c,onChange:e=>S(e),dark:t},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:164,columnNumber:7},this),c&&r.jsxDEV("div",{className:"space-y-2",children:[r.jsxDEV("div",{className:"flex justify-between items-center",children:[r.jsxDEV("button",{onClick:()=>{x.post("/api/whatsapp/initialize")},type:"button",className:"bg-green-600 px-2 py-1 rounded-md text-white",children:"Inisiasi Whatsapp"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:175,columnNumber:13},this),r.jsxDEV("div",{className:"flex items-center gap-2",children:[r.jsxDEV("input",{type:"checkbox",id:"PilihSemua",onChange:e=>{n==null||n.map(s=>h(e.target.checked,s))}},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:185,columnNumber:15},this),r.jsxDEV("label",{htmlFor:"PilihSemua",className:"font-medium text-gray-800 dark:text-white",children:"Pilih Semua"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:192,columnNumber:15},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:174,columnNumber:11},this),n==null?void 0:n.map((e,s)=>r.jsxDEV("label",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[r.jsxDEV("div",{children:[r.jsxDEV("p",{className:"font-medium text-gray-800 dark:text-gray-100 flex items-center gap-3",children:[r.jsxDEV("span",{children:e.fullName},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:204,columnNumber:19},this),r.jsxDEV("span",{className:"bg-gray-300 dark:bg-gray-500 rounded-full px-2 py-1 text-xs",children:e.role},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:205,columnNumber:19},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:203,columnNumber:17},this),r.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.noTelephone},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:209,columnNumber:17},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:202,columnNumber:15},this),r.jsxDEV("input",{type:"checkbox",value:e,checked:I.includes(e.noTelephone),onChange:m=>h(m.target.checked,e),className:"w-5 h-5 accent-blue-600 cursor-pointer"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:211,columnNumber:15},this)]},s,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:198,columnNumber:13},this))]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:173,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:98,columnNumber:5},this)}R.layout=a=>(a.props.activeRole??a.props.user.role)=="Staf"?r.jsxDEV(T,{children:a},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:229,columnNumber:12},void 0):r.jsxDEV(y,{children:a},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Informasi/Form.tsx",lineNumber:232,columnNumber:10},void 0);export{R as default};
