import{u as B,c as s,j as a,r as o}from"./app-nMpo0nzv.js";import{N as E}from"./Notification-4m9luinP.js";import{D as M}from"./TabelData-Bq0KbQ7x.js";import{M as A}from"./ModalView-shfRxHOx.js";import{S as T}from"./SuperAdminLayouts--tQhjaE8.js";import{M as k}from"./modalImportExcel-B-i8G95Z.js";import"./FormatWaktu-CaIpskCQ.js";import"./Breadcrump-BN6wmIl1.js";function K({stafs:n,stafPaginate:t,searchQuery:N=""}){const{props:i}=B(),[S,x]=s.useState([]),[m,u]=s.useState(),[f,c]=s.useState((t==null?void 0:t.currentPage)||1),[I,R]=s.useState((t==null?void 0:t.lastPage)||1),[h,b]=s.useState(N),[D,l]=s.useState(!1);s.useEffect(()=>{if(!n)return;const e=[];n.map(r=>{var d,p;e.push({...r,id:r.nip,fullName:((d=r==null?void 0:r.user)==null?void 0:d.fullName)||"-",email:((p=r==null?void 0:r.user)==null?void 0:p.email)||"-"})}),x(e)},[n]);const j=e=>{o.get("/SuperAdmin/manajemen-staf",{page:e},{preserveState:!0,replace:!0}),c(e)},g=e=>{b(e),o.get("/SuperAdmin/manajemen-staf",{page:1,search:e},{preserveState:!0,replace:!0,preserveScroll:!0}),c(1)},v=async e=>{const r=new FormData;r.append("excel_file",e),o.post(`${String(i.pattern)}/import`,r,{onSuccess:()=>{l(!1)}})};return a.jsxDEV("div",{className:"max-w-7xl mx-auto lg:p-6",children:[a.jsxDEV(E,{},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:84,columnNumber:7},this),a.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[a.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Data Staf"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:86,columnNumber:9},this),a.jsxDEV("div",{className:"flex flex-wrap items-center lg:gap-3 gap-1",children:[a.jsxDEV("button",{onClick:()=>{l(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Import Staf"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:88,columnNumber:11},this),a.jsxDEV("a",{href:`${String(i.pattern)}/export`,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Export Staf"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:96,columnNumber:11},this),a.jsxDEV("a",{href:"/SuperAdmin/manajemen-staf/create",className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Tambah Staf"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:87,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:85,columnNumber:7},this),a.jsxDEV(M,{data:S,tabelName:"Staf",columns:[{header:"No",accessor:"nomor"},{header:"NIY",accessor:"nip"},{header:"Nama",accessor:"fullName"},{header:"Email",accessor:"email"},{header:"Jenis Kelamin",accessor:"jenisKelamin"},{header:"Tanggal Lahir",isTime:{mode:"date",withDay:!0},accessor:"tanggalLahir"},{header:"Departemen",accessor:"departemen"},{header:"Jabatan",accessor:"jabatan"}],editable:"/SuperAdmin/manajemen-staf",pageSize:15,placeholder:"Cari staf...",noDataText:"Tidak ada data staf",onRowClick:e=>u(e),serverPagination:{currentPage:f,lastPage:I,total:(t==null?void 0:t.total)||0,onPageChange:j},serverSearch:{value:h,onChange:g}},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:111,columnNumber:7},this),a.jsxDEV(A,{data:m,exclude:["fullName","email","userId","*id","nomor"],open:!!m,onClose:()=>u(null)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:145,columnNumber:7},this),a.jsxDEV(k,{onClose:()=>{l(!1)},open:D,onSubmit:v},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:152,columnNumber:7},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:83,columnNumber:5},this)}K.layout=n=>a.jsxDEV(T,{children:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Staf/Index.tsx",lineNumber:163,columnNumber:31},void 0);export{K as default};
