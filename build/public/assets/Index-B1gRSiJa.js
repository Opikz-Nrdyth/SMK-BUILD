import{u as T,c as a,j as t,r as m}from"./app-D-AlCsI9.js";import{N as U}from"./Notification-DkVvHERy.js";import{D as V}from"./TabelData-DK3QOFq1.js";import{M as G}from"./ModalView-DuQ8G--3.js";import{S as P}from"./SuperAdminLayouts-DDh0Gaam.js";import{S as y}from"./StafLayouts-DNWQaC5q.js";import"./FormatWaktu-CaIpskCQ.js";import"./Breadcrump-CQG3d_M-.js";function w({auth:n,blogs:s,blogsPaginate:r,kategoriList:S,searchQuery:h="",filterKategori:f="",filterStatus:g=""}){const{props:i}=T(),d=i.user.role,[B,b]=a.useState([]),[N,p]=a.useState(),[D,l]=a.useState((r==null?void 0:r.currentPage)||1),[v,C]=a.useState((r==null?void 0:r.lastPage)||1),[o,j]=a.useState(h),[u,k]=a.useState(f),[c,R]=a.useState(g);a.useEffect(()=>{if(!s)return;const e=[];s.map(x=>{var I;e.push({...x,penulis:((I=x.penulis)==null?void 0:I.fullName)||"Unknown"})}),b(e)},[s]);const A=e=>{m.get(String(i.pattern),{page:e,search:o,kategori:u,status:c},{preserveState:!0,replace:!0}),l(e)},K=e=>{j(e),m.get(String(i.pattern),{page:1,search:e,kategori:u,status:c},{preserveState:!0,replace:!0,preserveScroll:!0}),l(1)},E=e=>{k(e),m.get(String(i.pattern),{page:1,search:o,kategori:e,status:c},{preserveState:!0,replace:!0,preserveScroll:!0}),l(1)},M=e=>{R(e),m.get(String(i.pattern),{page:1,search:o,kategori:u,status:e},{preserveState:!0,replace:!0,preserveScroll:!0}),l(1)};return t.jsxDEV("div",{className:"max-w-7xl mx-auto lg:p-6",children:[t.jsxDEV(U,{},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:106,columnNumber:7},this),t.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manajemen Blog"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:108,columnNumber:9},this),t.jsxDEV("a",{href:`${String(i.pattern)}/create`,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Tambah Blog"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:109,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:107,columnNumber:7},this),t.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kategori"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:120,columnNumber:11},this),t.jsxDEV("select",{value:u,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600",children:[t.jsxDEV("option",{value:"",children:"Semua Kategori"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:128,columnNumber:13},this),S.map(e=>t.jsxDEV("option",{value:e,children:e},e,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:130,columnNumber:15},this))]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:123,columnNumber:11},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:119,columnNumber:9},this),t.jsxDEV("div",{children:[t.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:137,columnNumber:11},this),t.jsxDEV("select",{value:c,onChange:e=>M(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600",children:[t.jsxDEV("option",{value:"",children:"Semua Status"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:145,columnNumber:13},this),t.jsxDEV("option",{value:"draft",children:"Draft"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:146,columnNumber:13},this),t.jsxDEV("option",{value:"published",children:"Published"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:147,columnNumber:13},this),t.jsxDEV("option",{value:"archived",children:"Archived"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:148,columnNumber:13},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:140,columnNumber:11},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:136,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:118,columnNumber:7},this),t.jsxDEV(V,{data:B,columns:[{header:"Judul",accessor:"judul"},{header:"Penulis",accessor:"penulis"},{header:"Kategori",accessor:"kategori"},{header:"Status",accessor:"status"},{header:"Dilihat",accessor:"dilihat"},{header:"Published At",accessor:"publishedAt"}],editable:d==="SuperAdmin"||d==="Staf"?String(i.pattern):"",pageSize:15,placeholder:"Cari blog...",noDataText:"Tidak ada data blog",onRowClick:e=>p(e),serverPagination:{currentPage:D,lastPage:v,total:(r==null?void 0:r.total)||0,onPageChange:A},serverSearch:{value:o,onChange:K}},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:153,columnNumber:7},this),t.jsxDEV(G,{data:N,exclude:["*id","penulisId","slug"],open:!!N,onClose:()=>p(null)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:183,columnNumber:7},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:105,columnNumber:5},this)}w.layout=n=>(n.props.activeRole??n.props.user.role)==="Staf"?t.jsxDEV(y,{children:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:196,columnNumber:12},void 0):t.jsxDEV(P,{children:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Blog/Index.tsx",lineNumber:198,columnNumber:10},void 0);export{w as default};
