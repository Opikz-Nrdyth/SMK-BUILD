import{u as A,c as i,j as e,r as m}from"./app-nMpo0nzv.js";import{D as E}from"./TabelData-Bq0KbQ7x.js";import{N as M}from"./Notification-4m9luinP.js";import{M as y}from"./ModalView-shfRxHOx.js";import{G as R}from"./GuruLayouts-CU16o3kR.js";import"./FormatWaktu-CaIpskCQ.js";import"./Breadcrump-BN6wmIl1.js";function V({auth:N,siswas:o,siswaPaginate:t,kelasList:c,selectedKelas:h="",searchQuery:g=""}){const{props:U}=A(),[p,f]=i.useState([]),[l,x]=i.useState(),[D,n]=i.useState((t==null?void 0:t.currentPage)||1),[j,P]=i.useState((t==null?void 0:t.lastPage)||1),[u,G]=i.useState(g),[r,S]=i.useState(h),[d,B]=i.useState(!1);i.useEffect(()=>{if(!o)return;const a=o.map((s,C)=>{var I,b;return{...s,id:s.nisn,fullName:((I=s==null?void 0:s.user)==null?void 0:I.fullName)||"-",email:((b=s==null?void 0:s.user)==null?void 0:b.email)||"-"}});f(a)},[o]);const v=a=>{S(a),n(1),m.get("/guru/manajemen-siswa",{page:1,kelas:a,search:u},{preserveState:!0,replace:!0})},k=()=>{S(""),n(1),m.get("/guru/manajemen-siswa",{page:1,kelas:"",search:u},{preserveState:!0,replace:!0})},w=a=>{m.get("/guru/manajemen-siswa",{page:a,kelas:r,search:u},{preserveState:!0,replace:!0,preserveScroll:!0}),n(a)},K=a=>{G(a),m.get("/guru/manajemen-siswa",{page:1,kelas:r,search:a},{preserveState:!0,replace:!0,preserveScroll:!0}),n(1)},T=[{header:"No.",accessor:"nomor_absen"},{header:"NISN",accessor:"nisn"},{header:"Nama",accessor:"fullName"},{header:"Jenis Kelamin",accessor:"jenisKelamin"},{header:"Kelas",accessor:"nama_kelas"}];return e.jsxDEV("div",{className:"max-w-7xl mx-auto lg:p-6",children:[e.jsxDEV(M,{},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:131,columnNumber:7},this),e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Data Siswa yang Diampu"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:135,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Daftar siswa dari kelas yang Anda ajar"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:136,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:134,columnNumber:7},this),e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>{B(!d)},className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Pilih Kelas ",e.jsxDEV("i",{className:d?"fas fa-caret-up":"fas fa-caret-down"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:151,columnNumber:25},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:144,columnNumber:11},this),r&&e.jsxDEV("button",{onClick:k,className:"text-blue-600 hover:text-blue-800 font-medium text-sm",children:"Lihat Semua Siswa"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:154,columnNumber:13},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:143,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d&&c.map(a=>e.jsxDEV("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow border p-4 cursor-pointer transition-all duration-200 ${r===a.namaKelas?"border-blue-500 ring-2 ring-blue-200 dark:ring-blue-800":"border-gray-200 dark:border-gray-700 hover:shadow-md"}`,onClick:()=>v(a.namaKelas),children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex gap-1",children:[e.jsxDEV("h3",{className:"font-bold text-gray-900 dark:text-white",children:a.namaKelas},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:177,columnNumber:21},this),a.isWaliKelas&&e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:"WK"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:179,columnNumber:23},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:176,columnNumber:19},this),e.jsxDEV("div",{className:"text-lg",children:"ðŸ«"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:184,columnNumber:19},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:175,columnNumber:17},this),e.jsxDEV("div",{className:"mt-2",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.jumlahSiswa},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:188,columnNumber:19},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Siswa"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:191,columnNumber:19},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:187,columnNumber:17},this),e.jsxDEV("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxDEV("div",{className:`text-sm font-medium ${r===a.namaKelas?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:r===a.namaKelas?"âœ“ Sedang dipilih":"Pilih kelas â†’"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:195,columnNumber:19},this)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:194,columnNumber:17},this)]},a.namaKelas,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:166,columnNumber:15},this))},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:163,columnNumber:9},this),c.length===0&&e.jsxDEV("div",{className:"text-center py-8",children:[e.jsxDEV("div",{className:"text-gray-400 dark:text-gray-500 text-4xl mb-3",children:"ðŸ«"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:212,columnNumber:13},this),e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Tidak ada kelas yang diampu"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:213,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400",children:"Anda belum mengampu kelas apapun."},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:216,columnNumber:13},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:211,columnNumber:11},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:142,columnNumber:7},this),e.jsxDEV(E,{data:p,tabelName:r?`Siswa ${r}`:"Semua Siswa yang Diampu",columns:T,pageSize:15,placeholder:"Cari siswa...",noDataText:r?`Tidak ada siswa di kelas ${r}`:"Tidak ada data siswa",onRowClick:a=>x(a),serverPagination:{currentPage:D,lastPage:j,total:(t==null?void 0:t.total)||0,onPageChange:w},viewModal:!0,serverSearch:{value:u,onChange:K}},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:222,columnNumber:7},this),l&&e.jsxDEV(y,{data:l,include:["fullName","nisn","jenisKelamin","tempatLahir","tanggalLahir","agama","nama_kelas","alamat"],open:!!l,onClose:()=>x(null),title:`Detail Siswa - ${l.fullName}`},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:249,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:130,columnNumber:5},this)}V.layout=N=>e.jsxDEV(R,{children:N},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/IndexGuru.tsx",lineNumber:270,columnNumber:39},void 0);export{V as default};
