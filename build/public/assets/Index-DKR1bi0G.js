import{u as V,c as l,j as e,r as u}from"./app-nMpo0nzv.js";import{N as U}from"./Notification-4m9luinP.js";import{D as y}from"./TabelData-Bq0KbQ7x.js";import{M as P}from"./ModalView-shfRxHOx.js";import{S as w}from"./SuperAdminLayouts--tQhjaE8.js";import{S as C}from"./StafLayouts-D4HfDRrx.js";import{M as _}from"./modalImportExcel-B-i8G95Z.js";import"./FormatWaktu-CaIpskCQ.js";import"./Breadcrump-BN6wmIl1.js";function $({auth:i,gurus:o,guruPaginate:t,mapelList:x=[],selectedMapel:b="",searchQuery:g=""}){const{props:n}=V(),[d,j]=l.useState(!1),[D,G]=l.useState([]),[p,I]=l.useState(),[v,m]=l.useState((t==null?void 0:t.currentPage)||1),[c,B]=l.useState(g),[s,f]=l.useState(b),[k,N]=l.useState(!1);l.useEffect(()=>{if(!o)return;const a=o.map(r=>{var S,h;return{...r,id:r.nip,fullName:((S=r==null?void 0:r.user)==null?void 0:S.fullName)||"-",email:((h=r==null?void 0:r.user)==null?void 0:h.email)||"-"}});G(a)},[o]);const M=a=>{f(a),m(1),u.get(String(n.pattern),{page:1,mapel:a,search:c},{preserveState:!0,replace:!0})},T=()=>{f(""),m(1),u.get(String(n.pattern),{page:1,mapel:"",search:c},{preserveState:!0,replace:!0})},E=a=>{u.get(String(n.pattern),{page:a,mapel:s,search:c},{preserveState:!0,replace:!0,preserveScroll:!0}),m(a)},R=a=>{B(a),u.get(String(n.pattern),{page:1,mapel:s,search:a},{preserveState:!0,replace:!0,preserveScroll:!0}),m(1)},A=async a=>{const r=new FormData;r.append("excel_file",a),u.post(`${String(n.pattern)}/import`,r,{onSuccess:()=>N(!1)})},K=[{header:"No",accessor:"nomor"},{header:"NIY",accessor:"nip"},{header:"Nama",accessor:"fullName"},{header:"Email",accessor:"email"},{header:"Jenis Kelamin",accessor:"jenisKelamin"},{header:"Tanggal Lahir",isTime:{mode:"date",withDay:!0},accessor:"tanggalLahir"}];return e.jsxDEV("div",{className:"max-w-7xl mx-auto lg:p-6",children:[e.jsxDEV(U,{},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:121,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Data Guru"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:125,columnNumber:9},this),e.jsxDEV("div",{className:"flex flex-wrap items-center lg:gap-3 gap-1",children:[e.jsxDEV("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Import Guru"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:127,columnNumber:11},this),e.jsxDEV("a",{href:`${String(n.pattern)}/export`,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Export Guru"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:133,columnNumber:11},this),e.jsxDEV("a",{href:`${String(n.pattern)}/create`,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Tambah Guru"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:139,columnNumber:11},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:126,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:124,columnNumber:7},this),e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("button",{onClick:()=>{j(!d)},className:"text-lg font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:["Pilih Mata Pelajaran"," ",e.jsxDEV("i",{className:d?"fas fa-caret-up":"fas fa-caret-down"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:158,columnNumber:13},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:151,columnNumber:11},this),s&&e.jsxDEV("button",{onClick:T,className:"text-blue-600 hover:text-blue-800 font-medium text-sm",children:"Lihat Semua Guru"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:161,columnNumber:13},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:150,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[d&&x.map(a=>e.jsxDEV("div",{onClick:()=>M(a.nama_mata_pelajaran),className:`p-4 rounded-lg shadow border transition-all duration-200 cursor-pointer
                ${s===a.nama_mata_pelajaran?"border-blue-500 ring-2 ring-blue-200 dark:ring-blue-800":"border-gray-200 dark:border-gray-700 hover:shadow-md"}`,children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("h3",{className:"font-semibold text-gray-900 dark:text-white",children:a.nama_mata_pelajaran},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:184,columnNumber:19},this),e.jsxDEV("div",{className:"text-lg",children:"ðŸ“˜"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:187,columnNumber:19},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:183,columnNumber:17},this),e.jsxDEV("div",{className:"mt-2",children:[e.jsxDEV("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.jumlahGuru},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:190,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Guru"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:193,columnNumber:19},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:189,columnNumber:17},this)]},a.nama_mata_pelajaran,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:173,columnNumber:15},this)),x.length===0&&e.jsxDEV("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-gray-400",children:"Tidak ada data mata pelajaran"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:199,columnNumber:13},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:170,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:149,columnNumber:7},this),e.jsxDEV(y,{data:D,columns:K,editable:`${String(n.pattern)}`,pageSize:15,tabelName:s?`Guru yang Mengampu ${s}`:"Semua Data Guru",placeholder:"Cari guru...",noDataText:s?`Tidak ada guru yang mengampu ${s}`:"Tidak ada data guru",onRowClick:a=>I(a),serverPagination:{currentPage:v,lastPage:t==null?void 0:t.lastPage,total:t==null?void 0:t.total,onPageChange:E},serverSearch:{value:c,onChange:R}},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:207,columnNumber:7},this),e.jsxDEV(P,{data:p,exclude:["fullName","email","userId","*id","*guruAmpu","nomor"],open:!!p,onClose:()=>I(null)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:235,columnNumber:7},this),e.jsxDEV(_,{open:k,onClose:()=>N(!1),onSubmit:A},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:243,columnNumber:7},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:120,columnNumber:5},this)}$.layout=i=>(i.props.activeRole??i.props.user.role)==="Staf"?e.jsxDEV(C,{children:i},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:254,columnNumber:37},void 0):e.jsxDEV(w,{children:i},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Index.tsx",lineNumber:255,columnNumber:10},void 0);export{$ as default};
