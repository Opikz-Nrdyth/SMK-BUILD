import{u as k,c as i,j as a,L as l,r as p}from"./app-D-AlCsI9.js";import{D as v}from"./TabelData-DK3QOFq1.js";import{N as U}from"./Notification-DkVvHERy.js";import{S as A}from"./SuperAdminLayouts-DDh0Gaam.js";import{M as E}from"./ModalView-DuQ8G--3.js";import{G as M}from"./GuruLayouts-D90zMq1r.js";import{S as T}from"./StafLayouts-DNWQaC5q.js";import"./FormatWaktu-CaIpskCQ.js";import"./Breadcrump-CQG3d_M-.js";function G({bankSoals:r,bankSoalPaginate:t,searchQuery:x="",auth:R}){const{props:h}=k(),[f,j]=i.useState([]),[o,u]=i.useState(),[I,d]=i.useState((t==null?void 0:t.currentPage)||1),[S,w]=i.useState((t==null?void 0:t.lastPage)||1),[D,B]=i.useState(x),n=h.pattern;i.useEffect(()=>{if(!r)return;const e=[];r.map(s=>{var c,m,N;e.push({...s,id:s.id,jurusan:((c=s.jurusanDetails)==null?void 0:c.join(", "))||"-",penulis:((m=s.penulisDetails)==null?void 0:m.join(", "))||"-",mapel:((N=s.mapelDetails)==null?void 0:N.join(", "))||"-",kode:s.kode||"-"})}),j(e)},[r]);const g=e=>{p.get(String(n),{page:e},{preserveState:!0,replace:!0}),d(e)},b=e=>{B(e),p.get(String(n),{page:1,search:e},{preserveState:!0,replace:!0,preserveScroll:!0}),d(1)};return a.jsxDEV("div",{className:"max-w-7xl mx-auto lg:p-6",children:[a.jsxDEV(U,{},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:75,columnNumber:7},this),a.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[a.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Data Bank Soal"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:77,columnNumber:9},this),a.jsxDEV("div",{className:"flex gap-1 items-center",children:[a.jsxDEV(l,{href:`${n}/create`,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Tambah Bank Soal"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:79,columnNumber:11},this),a.jsxDEV(l,{href:`${n}/data-password`,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Data Password"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:85,columnNumber:11},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:78,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:76,columnNumber:7},this),a.jsxDEV(v,{data:f,tabelName:"BankSoal",columns:[{header:"Jenis Ujian",accessor:"jenisUjian"},{header:"Nama Ujian",accessor:"namaUjian"},{header:"Kode Ujian",accessor:"kode"},{header:"Jenjang",accessor:"jenjang"},{header:"Mata Pelajaran",accessor:"mapel"},{header:"Jurusan",accessor:"jurusan"},{header:"Penulis",accessor:"penulis"},{header:"Waktu (menit)",accessor:"waktu"},{header:"Tanggal Ujian",isTime:{mode:"date",withDay:!0},accessor:"tanggalUjian"},{header:"Aksi",accessor:"actions",action:e=>a.jsxDEV(l,{className:"text-blue-600 font-bold hover:underline text-nowrap",href:`${n}/${e.id}/edit-soal`,children:"Edit Soal"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:115,columnNumber:15},this)}],editable:String(n),pageSize:15,placeholder:"Cari bank soal berdasarkan kode, nama ujian, jenjang, atau jenis ujian...",noDataText:"Tidak ada data bank soal",disableConfig:{canEdit:()=>!0,canDelete:()=>!0,canView:()=>!0,disabledMessage:"Guru hanya dapat mengubah Ujian Mandiri yang dibuat sendiri"},onRowClick:e=>u(()=>{var s;return{...e,mapel:(s=e.mapelDetails)==null?void 0:s[0],diBuat:e.createdAt,diUpdate:e.updatedAt}}),serverPagination:{currentPage:I,lastPage:S,total:(t==null?void 0:t.total)||0,onPageChange:g},serverSearch:{value:D,onChange:b}},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:94,columnNumber:7},this),a.jsxDEV(E,{data:o,exclude:["*id","soalFile","jurusanDetails","penulisDetails","mapelDetails","mapelId","createdAt","updatedAt","jurusan","penulis","mapel"],open:!!o,onClose:()=>u(null),title:"Detail Bank Soal"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:158,columnNumber:7},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:74,columnNumber:5},this)}G.layout=r=>{const t=r.props.activeRole??r.props.user.role;return t=="Guru"?a.jsxDEV(M,{children:r},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:184,columnNumber:12},void 0):t=="Staf"?a.jsxDEV(T,{children:r},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:187,columnNumber:12},void 0):a.jsxDEV(A,{children:r},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/BankSoal/Index.tsx",lineNumber:190,columnNumber:10},void 0)};export{G as default};
