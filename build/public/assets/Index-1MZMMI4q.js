import{u as b,c as n,j as t,L as g,r as d}from"./app-Bzs2Gd0p.js";import{N as D}from"./Notification-BZaUPjAP.js";import{D as M}from"./TabelData-Cg-6qyrD.js";import{M as v}from"./ModalView-CgG3FUle.js";import{S as B}from"./SuperAdminLayouts-B2SIYU2P.js";import{S as A}from"./StafLayouts-DaalXZaH.js";import"./FormatWaktu-CaIpskCQ.js";import"./Breadcrump-CXoRlEgY.js";function k({auth:s,mapels:r,mapelPaginate:a,searchQuery:m=""}){const{props:o}=b(),[N,x]=n.useState([]),[u,i]=n.useState(),[f,l]=n.useState((a==null?void 0:a.currentPage)||1),[p,R]=n.useState((a==null?void 0:a.lastPage)||1),[S,I]=n.useState(m);n.useEffect(()=>{if(!r)return;const e=[];r==null||r.forEach(c=>{e.push({...c,guruAmpu:c.guruAmpuNames})}),x(e)},[r]);const h=e=>{d.get(String(o.pattern),{page:e},{preserveState:!0,replace:!0}),l(e)},j=e=>{I(e),d.get(String(o.pattern),{page:1,search:e},{preserveState:!0,replace:!0,preserveScroll:!0}),l(1)};return t.jsxDEV("div",{className:"max-w-7xl mx-auto lg:p-6",children:[t.jsxDEV(D,{},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Mapel/Index.tsx",lineNumber:69,columnNumber:7},this),t.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[t.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Data Mata Pelajaran"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Mapel/Index.tsx",lineNumber:71,columnNumber:9},this),t.jsxDEV(g,{href:`${String(o.pattern)}/create`,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors duration-200",children:"Tambah Mata Pelajaran"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Mapel/Index.tsx",lineNumber:72,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Mapel/Index.tsx",lineNumber:70,columnNumber:7},this),t.jsxDEV(M,{data:N,columns:[{header:"Jenjang",accessor:"jenjang",sort:"jenjang"},{header:"Nama Mata Pelajaran",accessor:"namaMataPelajaran"},{header:"Guru Pengampu",accessor:"guruAmpu"}],editable:String(o.pattern),pageSize:15,placeholder:"Cari mata pelajaran berdasarkan nama atau jenjang...",noDataText:"Tidak ada data mata pelajaran",onRowClick:e=>i(e),serverPagination:{currentPage:f,lastPage:p,total:(a==null?void 0:a.total)||0,onPageChange:h},serverSearch:{value:S,onChange:j}},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Mapel/Index.tsx",lineNumber:80,columnNumber:7},this),t.jsxDEV(v,{data:u,exclude:["guruData","guruAmpu","guruAmpuNames","*userId","id"],open:!!u,onClose:()=>i(null)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Mapel/Index.tsx",lineNumber:104,columnNumber:7},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Mapel/Index.tsx",lineNumber:68,columnNumber:5},this)}k.layout=s=>(s.props.activeRole??s.props.user.role)=="Staf"?t.jsxDEV(A,{children:s},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Mapel/Index.tsx",lineNumber:117,columnNumber:12},void 0):t.jsxDEV(B,{children:s},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Mapel/Index.tsx",lineNumber:120,columnNumber:10},void 0);export{k as default};
