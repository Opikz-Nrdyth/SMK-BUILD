import{b as y,c as A,u as E,a as U,j as i,r as w}from"./app-D-AlCsI9.js";import{U as l}from"./UniversalInput-BjXQpmI2.js";import{S as R}from"./SuperAdminLayouts-DDh0Gaam.js";import{F as M}from"./FormatWaktu-CaIpskCQ.js";import"./index-BzCDgUCn.js";import"./TextEditor-DKaTtpcn.js";/* empty css                  */import"./Breadcrump-CQG3d_M-.js";function V({initialValues:o,onSubmit:v,submitLabel:d,dark:n=!1}){const{data:e,setData:u,post:L,processing:f,errors:C}=y(o||{user:{fullName:"",email:"",role:"Guru",password:"",password_confirmation:""},guru:{agama:"",alamat:"",gelarBelakang:"",gelarDepan:"",jenisKelamin:"",nip:"",noTelepon:"",tanggalLahir:"",tempatLahir:"",fileFoto:""}}),[s,D]=A.useState(!1),{props:F}=E(),b=F.pattern.split("/").filter(r=>r!==""),I=`${b[0]}/${b[1]}`,{notify:p}=U(),T=r=>{r.preventDefault();const m=t=>t?new Date(t).toISOString().slice(0,19).replace("T"," "):"",g={...e,guru:{...e.guru,tanggalLahir:m(e.guru.tanggalLahir)}};v(g)},K=async()=>{var r,m,g,t,h,S,x,B,j,G;if(e.user.email)try{const c=await fetch(`/${I}/${e.user.email}/cekGuru`);if(!c.ok)throw new Error("Gagal fetch data");const N=await c.json();if(N.status=="ready"){console.log(N.data);const a=N.data;D(!0),p("Data Di Temukan","success"),u({user:{fullName:a==null?void 0:a.fullName,email:a==null?void 0:a.email,role:"Guru",password:"Bukan Password Asli",password_confirmation:"Bukan Password Asli"},guru:{agama:(r=a==null?void 0:a.dataStaf)==null?void 0:r.agama,alamat:(m=a==null?void 0:a.dataStaf)==null?void 0:m.alamat,gelarBelakang:(g=a==null?void 0:a.dataStaf)==null?void 0:g.gelarBelakang,gelarDepan:(t=a==null?void 0:a.dataStaf)==null?void 0:t.gelarDepan,jenisKelamin:(h=a==null?void 0:a.dataStaf)==null?void 0:h.jenisKelamin,nip:(S=a==null?void 0:a.dataStaf)==null?void 0:S.nip,noTelepon:(x=a==null?void 0:a.dataStaf)==null?void 0:x.noTelepon,tanggalLahir:(B=a==null?void 0:a.dataStaf)==null?void 0:B.tanggalLahir,tempatLahir:(j=a==null?void 0:a.dataStaf)==null?void 0:j.tempatLahir,fileFoto:(G=a==null?void 0:a.dataStaf)==null?void 0:G.fileFoto}})}else p(N.message,"error")}catch{p("Data Tidak Di Temukan","error")}},k=[{value:"Islam",label:"Islam"},{value:"Kristen",label:"Kristen"},{value:"Katolik",label:"Katolik"},{value:"Hindu",label:"Hindu"},{value:"Buddha",label:"Buddha"},{value:"Konghucu",label:"Konghucu"}],P=[{value:"Laki-laki",label:"Laki-laki"},{value:"Perempuan",label:"Perempuan"}];return i.jsxDEV("form",{onSubmit:T,className:"space-y-6",children:[i.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxDEV(l,{type:"text",name:"fullName",disabled:s,label:"Nama Lengkap",value:e.user.fullName,onChange:r=>u("user",{...e.user,fullName:r}),required:!0,dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:117,columnNumber:9},this),i.jsxDEV("div",{children:[i.jsxDEV(l,{type:"email",name:"email",disabled:s,label:"Email",value:e.user.email,onChange:r=>u("user",{...e.user,email:r}),required:!0,dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:128,columnNumber:11},this),e.user.email&&i.jsxDEV("button",{onClick:K,type:"button",className:"text-purple-400 font-bold mt-1",children:"Buat Data Guru dari Staf"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:139,columnNumber:13},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:127,columnNumber:9},this),!o&&i.jsxDEV(i.Fragment,{children:[i.jsxDEV(l,{type:"password",name:"password",disabled:s,label:"Password",value:e.user.password,onChange:r=>u("user",{...e.user,password:r}),required:!0,dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:146,columnNumber:13},this),i.jsxDEV(l,{type:"password",name:"password_confirmation",disabled:s,label:"Konfirmasi Password",value:e.user.password_confirmation,onChange:r=>u("user",{...e.user,password_confirmation:r}),required:!0,dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:145,columnNumber:11},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:115,columnNumber:7},this),i.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxDEV(l,{type:"text",name:"nip",label:"NIY",value:e.guru.nip,onChange:r=>u("guru",{...e.guru,nip:r}),required:!0,dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:172,columnNumber:9},this),i.jsxDEV(l,{type:"select",name:"jenisKelamin",label:"Jenis Kelamin",options:P,value:e.guru.jenisKelamin,onChange:r=>u("guru",{...e.guru,jenisKelamin:r}),required:!0,dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:181,columnNumber:9},this),i.jsxDEV(l,{type:"select",name:"agama",label:"Agama",options:k,value:e.guru.agama,onChange:r=>u("guru",{...e.guru,agama:r}),required:!0,dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:191,columnNumber:9},this),i.jsxDEV(l,{type:"text",name:"gelarDepan",label:"Gelar Depan",value:e.guru.gelarDepan,onChange:r=>u("guru",{...e.guru,gelarDepan:r}),dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:203,columnNumber:9},this),i.jsxDEV(l,{type:"text",name:"gelarBelakang",label:"Gelar Belakang",value:e.guru.gelarBelakang,onChange:r=>u("guru",{...e.guru,gelarBelakang:r}),dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:211,columnNumber:9},this),i.jsxDEV(l,{type:"text",name:"tempatLahir",label:"Tempat Lahir",value:e.guru.tempatLahir,onChange:r=>u("guru",{...e.guru,tempatLahir:r}),dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:221,columnNumber:9},this),i.jsxDEV(l,{type:"date",name:"tanggalLahir",label:"Tanggal Lahir",value:M(e.guru.tanggalLahir),onChange:r=>u("guru",{...e.guru,tanggalLahir:r}),required:!0,dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:229,columnNumber:9},this),i.jsxDEV(l,{type:"text",name:"alamat",label:"Alamat",value:e.guru.alamat,onChange:r=>u("guru",{...e.guru,alamat:r}),dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:240,columnNumber:9},this),i.jsxDEV(l,{type:"text",name:"noTelepon",label:"No. Telepon",value:e.guru.noTelepon,onChange:r=>u("guru",{...e.guru,noTelepon:r}),dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:248,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:170,columnNumber:7},this),i.jsxDEV(l,{type:"file",name:"fileFoto",label:"Foto Profile",value:e.guru.fileFoto,onChange:r=>u("guru",{...e.guru,fileFoto:r}),required:!0,dark:n},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:257,columnNumber:7},this),e.guru.fileFoto&&i.jsxDEV("img",{src:`/${e.guru.fileFoto}`,className:"w-40",alt:e.user.fullName},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:267,columnNumber:9},this),i.jsxDEV("div",{className:"flex justify-end gap-2",children:[d=="Update"&&i.jsxDEV("button",{onClick:()=>{w.post(`/${I}/${e.user.email}/resetPassword`)},className:"px-6 py-3 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:opacity-50",type:"button",children:"Reset Password"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:272,columnNumber:11},this),i.jsxDEV("button",{type:"submit",disabled:f,className:"px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:f?"Menyimpan...":d},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:282,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:270,columnNumber:7},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:114,columnNumber:5},this)}V.layout=o=>i.jsxDEV(R,{children:o},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Guru/Form.tsx",lineNumber:294,columnNumber:30},void 0);export{V as default};
