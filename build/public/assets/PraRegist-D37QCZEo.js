import{u as R,c as s,j as a,r as o}from"./app-iNLJP6JY.js";import{D as j}from"./TabelData-CJjpaNG8.js";import{N as v}from"./Notification-zJpG5Gi6.js";import{S as B}from"./SuperAdminLayouts-Dq5rzPmY.js";import{M as k}from"./ModalView-Y1DAgbqb.js";import{S as P}from"./StafLayouts-Z-vGqz7f.js";import"./FormatWaktu-CaIpskCQ.js";import"./Breadcrump-U7TSQYvC.js";function A({auth:i,siswas:l,siswaPaginate:r,searchQuery:f=""}){const{props:n}=R(),[u,p]=s.useState([]),[c,m]=s.useState(),[x,N]=s.useState((r==null?void 0:r.currentPage)||1),[h,E]=s.useState((r==null?void 0:r.lastPage)||1),[g,I]=s.useState(f);s.useEffect(()=>{if(!l)return;const e=[];l.map(t=>{var d,S;e.push({...t,id:t.nisn,fullName:((d=t==null?void 0:t.user)==null?void 0:d.fullName)||"-",email:((S=t==null?void 0:t.user)==null?void 0:S.email)||"-",status:t.status,statusBadge:t.status})}),p(e)},[l]);const b=e=>{o.get(`${n.pattern}`,{page:e},{preserveState:!0,replace:!0}),N(e)},D=e=>{I(e),o.get(`${n.pattern}`,{page:1,search:e},{preserveState:!0,replace:!0,preserveScroll:!0}),N(1)};return console.log(u),a.jsxDEV("div",{className:"max-w-7xl mx-auto lg:p-6",children:[a.jsxDEV(v,{},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:77,columnNumber:7},this),a.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:a.jsxDEV("div",{children:[a.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Data Siswa Praregistrasi & Daftar Ulang"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:80,columnNumber:11},this),a.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Kelola siswa yang masih dalam proses registrasi"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:79,columnNumber:9},this)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:78,columnNumber:7},this),a.jsxDEV(j,{data:u,tabelName:"SiswaPraregist",columns:[{header:"NISN",accessor:"nisn"},{header:"Nama",accessor:"fullName"},{header:"Email",accessor:"email"},{header:"Status",accessor:"statusBadge"},{header:"Jenis Kelamin",accessor:"jenisKelamin"},{header:"Tanggal Lahir",isTime:{mode:"date",withDay:!0},accessor:"tanggalLahir"},{header:"Sekolah Asal",accessor:"sekolahAsal"},{header:"Aksi",accessor:"action",action:e=>a.jsxDEV("div",{children:e.status==="praregist"?a.jsxDEV("button",{onClick:()=>{o.post(`${n.pattern}/${e.nisn}/daftarulang`)},className:"px-2 text-nowrap py-1 text-xs text-blue-500 font-bold hover:text-blue-600",children:"Daftar Ulang"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:113,columnNumber:19},this):e.status==="daftarulang"?a.jsxDEV("button",{onClick:()=>{o.post(`${n.pattern}/${e.nisn}/status`)},className:"px-2 py-1 text-xs text-green-500 font-bold hover:text-green-600",children:"Aktifkan"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:122,columnNumber:19},this):null},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:111,columnNumber:15},this)}],pageSize:15,placeholder:"Cari siswa praregist...",noDataText:"Tidak ada data siswa praregistrasi",onRowClick:e=>m(e),serverPagination:{currentPage:x,lastPage:h,total:(r==null?void 0:r.total)||0,onPageChange:b},viewModal:!0,serverSearch:{value:g,onChange:D}},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:89,columnNumber:7},this),a.jsxDEV(k,{data:c,exclude:["fullName","email","userId","*id","*updatedAt","*createdAt"],open:!!c,onClose:()=>m(null)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:152,columnNumber:7},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:76,columnNumber:5},this)}A.layout=i=>(i.props.activeRole??i.props.user.role)=="Staf"?a.jsxDEV(P,{children:i},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:165,columnNumber:12},void 0):a.jsxDEV(B,{children:i},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Siswa/PraRegist.tsx",lineNumber:168,columnNumber:10},void 0);export{A as default};
