import{u as g,c as l,j as s,r as x}from"./app-D-AlCsI9.js";import{N as K}from"./Notification-DkVvHERy.js";import{D as R}from"./TabelData-DK3QOFq1.js";import{M as A}from"./ModalView-DuQ8G--3.js";import{S as E}from"./SuperAdminLayouts-DDh0Gaam.js";import{S as M}from"./StafLayouts-DNWQaC5q.js";import"./FormatWaktu-CaIpskCQ.js";import"./Breadcrump-CQG3d_M-.js";function T({auth:t,waliKelas:o,waliKelasPaginate:r,searchQuery:f=""}){const{props:n}=g(),[I,S]=l.useState([]),[u,c]=l.useState(),[h,i]=l.useState((r==null?void 0:r.currentPage)||1),[D,W]=l.useState((r==null?void 0:r.lastPage)||1),[b,j]=l.useState(f);l.useEffect(()=>{if(!o)return;const a=[];o.map(e=>{var d,N,m,p;a.push({...e,id:e.nip,fullName:((d=e==null?void 0:e.user)==null?void 0:d.fullName)||"-",email:((N=e==null?void 0:e.user)==null?void 0:N.email)||"-",namaKelas:((m=e==null?void 0:e.waliKelas)==null?void 0:m.namaKelas)||"-",gelar:`${(e==null?void 0:e.gelarDepan)||""} ${((p=e==null?void 0:e.user)==null?void 0:p.fullName)||""} ${(e==null?void 0:e.gelarBelakang)||""}`.trim(),KelasAmpu:e.waliKelas})}),S(a)},[o]);const v=a=>{x.get(String(n.pattern),{page:a},{preserveState:!0,replace:!0}),i(a)},k=a=>{j(a),x.get(String(n.pattern),{page:1,search:a},{preserveState:!0,replace:!0,preserveScroll:!0}),i(1)},B=`/${(n==null?void 0:n.pattern).split("/").filter(a=>a!="")[0]}`;return s.jsxDEV("div",{className:"max-w-7xl mx-auto lg:p-6",children:[s.jsxDEV(K,{},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/WaliKelas/Index.tsx",lineNumber:79,columnNumber:7},this),s.jsxDEV("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[s.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Data Wali Kelas"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/WaliKelas/Index.tsx",lineNumber:81,columnNumber:9},this),s.jsxDEV("a",{href:`${B}/manajemen-kelas`,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Tambah Wali Kelas"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/WaliKelas/Index.tsx",lineNumber:82,columnNumber:9},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/WaliKelas/Index.tsx",lineNumber:80,columnNumber:7},this),s.jsxDEV(R,{data:I,columns:[{header:"NIP",accessor:"nip"},{header:"Nama",accessor:"fullName"},{header:"Email",accessor:"email"},{header:"Jenis Kelamin",accessor:"jenisKelamin"},{header:"Wali Kelas",accessor:"namaKelas"}],pageSize:15,placeholder:"Cari wali kelas berdasarkan NIP, nama, email, jenis kelamin, atau kelas...",noDataText:"Tidak ada data wali kelas",onRowClick:a=>c(a),serverPagination:{currentPage:h,lastPage:D,total:(r==null?void 0:r.total)||0,onPageChange:v},serverSearch:{value:b,onChange:k},viewModal:!0},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/WaliKelas/Index.tsx",lineNumber:90,columnNumber:7},this),s.jsxDEV(A,{data:u,exclude:["user","userId","*id","KelasAmpu.waliKelas","fullName","email","namaKelas","waliKelas","KelasAmpu.siswa"],open:!!u,onClose:()=>c(null)},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/WaliKelas/Index.tsx",lineNumber:116,columnNumber:7},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/WaliKelas/Index.tsx",lineNumber:78,columnNumber:5},this)}T.layout=t=>(t.props.activeRole??t.props.user.role)=="Staf"?s.jsxDEV(M,{children:t},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/WaliKelas/Index.tsx",lineNumber:139,columnNumber:12},void 0):s.jsxDEV(E,{children:t},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/WaliKelas/Index.tsx",lineNumber:142,columnNumber:10},void 0);export{T as default};
