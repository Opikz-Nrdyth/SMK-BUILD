import{c as s,u as E,a as v,j as r,r as N}from"./app-nMpo0nzv.js";import{N as D}from"./Notification-4m9luinP.js";import M from"./Form-D1US8gR8.js";import{S as B}from"./SuperAdminLayouts--tQhjaE8.js";import{S as P}from"./StafLayouts-D4HfDRrx.js";import"./UniversalInput-DhhCC8MJ.js";import"./index-BzCDgUCn.js";import"./TextEditor-BFB8hSX5.js";/* empty css                  */import"./Breadcrump-BN6wmIl1.js";function A({kelas:a,guruWithMapel:i,dataSiswa:l,semuaMapel:n}){const d={jenjang:a.jenjang,namaKelas:a.namaKelas,siswa:Array.isArray(a.siswa)?a.siswa:[],waliKelas:a.waliKelas,guruPengampu:Array.isArray(a.guruPengampu)?a.guruPengampu:[],guruMapelMapping:a.guruMapelMapping&&typeof a.guruMapelMapping=="object"?a.guruMapelMapping:{}},[o,g]=s.useState(""),{props:t}=E(),m=(t==null?void 0:t.pattern).split("/").filter(e=>e!="");let c=`/${m[0]}/${m[1]}`;const u=new URLSearchParams;t!=null&&t.page&&u.set("page",t.page);const p=u.toString()?`${c}?${u.toString()}`:c,S=s.useMemo(()=>i?i.map(e=>({label:e==null?void 0:e.fullName,value:e.nip})):[],[i]),j=s.useMemo(()=>l.map(e=>({label:e.user.fullName,value:e.nisn})),[l]),b=s.useMemo(()=>n?n.filter(e=>o==e.jenjang).map(e=>({label:`${e.namaMataPelajaran} (${e.jenjang})`,value:e.id.toString()})):[],[n,o]),{notify:x}=v(),I=e=>{N.put(`${p}/${a.id}`,e,{onSuccess:({props:f})=>{f.session.status=="success"?N.visit(p):f.session.error.messages.map(K=>x(K.message,"error"))}})};return r.jsxDEV("div",{className:"max-w-6xl mx-auto lg:p-6",children:[r.jsxDEV(D,{},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Edit.tsx",lineNumber:83,columnNumber:7},this),r.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Edit Data Staf"},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Edit.tsx",lineNumber:84,columnNumber:7},this),r.jsxDEV(M,{initialValues:d,guruOption:S,siswaOption:j,onSubmit:I,mapelOptions:b,submitLabel:"Update",kelasSelected:o,setKelasSelected:g},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Edit.tsx",lineNumber:85,columnNumber:7},this)]},void 0,!0,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Edit.tsx",lineNumber:82,columnNumber:5},this)}A.layout=a=>(a.props.activeRole??a.props.user.role)=="Staf"?r.jsxDEV(P,{children:a},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Edit.tsx",lineNumber:102,columnNumber:12},void 0):r.jsxDEV(B,{children:a},void 0,!1,{fileName:"G:/Bank Project/2026/SMK-BINA-INDUSTRI/inertia/pages/Kelas/Edit.tsx",lineNumber:105,columnNumber:10},void 0);export{A as default};
